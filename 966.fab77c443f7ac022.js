"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[966],{1966:(h,n,s)=>{s.r(n),s.d(n,{TopMoviesModule:()=>g});var p=s(6895),o=s(8256),c=s(4004),a=s(262),l=s(529);let u=(()=>{class t{constructor(e){this.http=e,this.apiKey="b4016224ea90dc523669a794dc2764e4",this.baseUrl=`https://api.themoviedb.org/3/discover/movie?api_key=${this.apiKey}`}getTopMovies(){return this.http.get(`${this.baseUrl}&language=pt-BR&region=BR&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&vote_count.gte=1000`).pipe((0,c.U)(e=>e.results),(0,c.U)(e=>e.map(r=>({...r,posterUrl:`https://image.tmdb.org/t/p/w185${r.poster_path}`}))),(0,a.K)(e=>(console.error("Erro ao buscar os filmes:",e),[])))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(l.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t,i){if(1&t&&(o.TgZ(0,"li"),o._UZ(1,"img",1),o.TgZ(2,"h3"),o._uU(3),o.qZA(),o.TgZ(4,"p"),o._uU(5),o.qZA(),o.TgZ(6,"p"),o._uU(7),o.qZA(),o.TgZ(8,"button"),o._uU(9,"like"),o.qZA()()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("src",e.posterUrl,o.LSH),o.xp6(2),o.Oqu(e.title),o.xp6(2),o.Oqu(e.release_date),o.xp6(2),o.Oqu(e.overview)}}let m=(()=>{class t{constructor(e){this.moviesService=e,this.topMovies=[]}ngOnInit(){this.moviesService.getTopMovies().subscribe({next:e=>this.topMovies=e.slice(0,10),error:e=>console.error(e)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-top-movies"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],["alt","P\xf4ster",3,"src"]],template:function(e,r){1&e&&(o.TgZ(0,"h2"),o._uU(1,"Top 10 Filmes do Brasil"),o.qZA(),o.TgZ(2,"ul"),o.YNc(3,v,10,4,"li",0),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngForOf",r.topMovies))},dependencies:[p.sg]}),t})();var d=s(1387);let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,d.Bz.forChild([{path:"",component:m}])]}),t})()}}]);